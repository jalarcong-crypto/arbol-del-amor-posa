<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Para mi amor ‚ù§Ô∏è</title>

<style>
body {
    margin: 0;
    background: #fbe8d3;
    font-family: Arial, sans-serif;
    text-align: center;
    overflow: hidden;
}

h1 {
    color: #8b0000;
    margin-top: 20px;
}

/* ESCENA */
#scene {
    position: relative;
    width: 100%;
    height: 65vh;
}

/* TRONCO Y RAMAS */
#trunk {
    position: absolute;
    bottom: 0;
    left: 50%;
    width: 28px;
    height: 180px;
    background: #8b4513;
    transform: translateX(-50%);
    border-radius: 8px;
}

.branch {
    position: absolute;
    width: 70px;
    height: 12px;
    background: #8b4513;
    top: 50px;
    border-radius: 6px;
}

.branch.left {
    left: -60px;
    transform: rotate(-30deg);
}

.branch.right {
    right: -60px;
    transform: rotate(30deg);
}

/* CORAZONES */
.heart {
    position: absolute;
    width: 16px;
    height: 16px;
    background: #ff6fae;
    transform: rotate(45deg);
    animation: floatUp linear forwards;
}

.heart::before,
.heart::after {
    content: '';
    position: absolute;
    width: 16px;
    height: 16px;
    background: #ff6fae;
    border-radius: 50%;
}

.heart::before {
    top: -8px;
    left: 0;
}

.heart::after {
    left: -8px;
    top: 0;
}

@keyframes floatUp {
    0% { transform: translateY(0) rotate(45deg); opacity: 1; }
    100% { transform: translateY(-160px) rotate(45deg); opacity: 0; }
}

/* TEXTO */
#text {
    margin-top: 10px;
}

#contador {
    font-weight: bold;
    color: #8b0000;
}

/* MENSAJE */
#sideMessage {
    position: absolute;
    top: 30%;
    right: 5%;
    width: 260px;
    text-align: left;
    font-size: 0.95em;
    color: #8b0000;
}

/* BOT√ìN */
button {
    margin-top: 15px;
    padding: 12px 22px;
    font-size: 1em;
    background: #d63384;
    color: white;
    border: none;
    border-radius: 25px;
    cursor: pointer;
}

button:hover {
    background: #b02a6f;
}
</style>
</head>

<body>

<h1>Para mi amor ‚ù§Ô∏è</h1>

<div id="scene">
    <div id="trunk">
        <div class="branch left"></div>
        <div class="branch right"></div>
    </div>
</div>

<div id="sideMessage">
    <p>
        En un mundo lleno de hipocres√≠a,<br>
        m√°scaras y falsos sentimientos,<br>
        t√∫ eres mi luz, mi calma y<br>
        la esperanza que me impulsa<br>
        a ser mejor cada d√≠a üíñ
    </p>
</div>

<div id="text">
    <p id="typedText"></p>
    <p id="contador"></p>
    <button id="btnLove">¬øQuieres ser mi San Valent√≠n?</button>
</div>

<!-- AUDIO (MISMA CARPETA QUE index.html) -->
<audio id="music" loop>
    <source src="jacaranda_olaya.mp3" type="audio/mpeg">
</audio>

<script>
/* üå∏ CORAZONES */
const scene = document.getElementById("scene");

function heartShape(t) {
    return {
        x: 16 * Math.pow(Math.sin(t), 3),
        y: -(13 * Math.cos(t) - 5 * Math.cos(2 * t)
           - 2 * Math.cos(3 * t) - Math.cos(4 * t))
    };
}

function createHeart(x, y) {
    const heart = document.createElement("div");
    heart.className = "heart";
    heart.style.left = `calc(50% + ${x}px)`;
    heart.style.bottom = 220 - y + "px";
    heart.style.animationDuration = (6 + Math.random() * 4) + "s";
    scene.appendChild(heart);
    setTimeout(() => heart.remove(), 10000);
}

let t = 0;
setInterval(() => {
    const p = heartShape(t);
    createHeart(p.x * 6, p.y * 6);
    t += 0.25;
}, 120);

/* ‚úçÔ∏è TEXTO */
const messages = [
    "Mi amor por ti Stephany comenz√≥ hace üíñ",
    "Nos conocimos el 02 de julio del 2023 ‚ú®"
];

let msgIndex = 0;
let charIndex = 0;
const typedText = document.getElementById("typedText");

function typeWriter() {
    if (charIndex < messages[msgIndex].length) {
        typedText.textContent += messages[msgIndex].charAt(charIndex);
        charIndex++;
        setTimeout(typeWriter, 70);
    } else {
        setTimeout(() => {
            typedText.textContent = "";
            charIndex = 0;
            msgIndex = (msgIndex + 1) % messages.length;
            typeWriter();
        }, 2000);
    }
}
typeWriter();

/* ‚è±Ô∏è CONTADOR */
const inicio = new Date("2023-07-02T00:00:00");

function actualizarContador() {
    const ahora = new Date();
    const diff = ahora - inicio;

    const dias = Math.floor(diff / (1000 * 60 * 60 * 24));
    const horas = Math.floor(diff / (1000 * 60 * 60)) % 24;
    const minutos = Math.floor(diff / (1000 * 60)) % 60;
    const segundos = Math.floor(diff / 1000) % 60;

    document.getElementById("contador").textContent =
        `${dias} d√≠as ${horas} horas ${minutos} minutos ${segundos} segundos`;
}
setInterval(actualizarContador, 1000);
actualizarContador();

/* üéµ AUDIO SOLO CON BOT√ìN */
const btn = document.getElementById("btnLove");
const music = document.getElementById("music");

btn.addEventListener("click", () => {
    music.play().then(() => {
        alert("üíñ Te amo, este fin iremos al Coliseo Divos para ver a los Olaya üíñ");
    }).catch(err => {
        alert("No se pudo reproducir la m√∫sica");
        console.error(err);
    });
});
</script>

</body>
</html>
